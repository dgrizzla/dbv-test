DELIMITER $$
DROP PROCEDURE IF EXISTS sp_sel_png_usuarios$$
CREATE PROCEDURE `sp_sel_png_usuarios`(IN `porder` VARCHAR(100), IN `poffset` INT, IN `plimit` INT) NOT DETERMINISTIC NO SQL SQL SECURITY DEFINER BEGIN

  DECLARE statement varchar(255);

  SET statement := CONCAT(
    'SELECT id, nombres, apellidos, email, foto, usuario',
    'FROM png_usuario ',
    'ORDER BY ', porder,
    ' LIMIT ', poffset, ',', plimit
  );

  PREPARE statement FROM @statement;
  EXECUTE statement;
END$$

DELIMITER ;
